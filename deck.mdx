import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { github, vsDark } from "@code-surfer/themes";

import pngLangsSpectrum from './images/langs-spectrum.png'
import pngTopicsSpectrum from './images/topics-spectrum.png'
import pngCompositionVsBlackbox from './images/composition-vs-blackbox.png'
import pngCompositionFractal from './images/composition-fractal.png'
import pngEffectsDontCompose from './images/effects-dont-compose.png'
import pngComposedEffects from './images/effects-composed.png'

export const theme = vsDark;

<h1>
  Strongly typed
  <br />
  Functional Programming
  <br />
  Workshop 🏋️🦄
</h1>

<div style={{ position: 'fixed', bottom: 30, right: 30, margin: 0, padding: 0 }}>

<a href="https://gillchristian.xyz">Christian Gill</a> @ <a href="https://catawiki.com">Catawiki</a>

</div>

---

- Intro & disclaimers

- Type Driven Development

- Composition

- fp-ts: the basics

- io-ts: safe IO

- fp-ts: Functors

---

## [Introduction / Recap](https://fp-for-the-people-light.gillchristian.now.sh/)

---

## 🙄 Disclaimers ❗

---

<img src={pngLangsSpectrum} />

---

<img src={pngTopicsSpectrum} />

---

### 🤷 TypeScript 🤷

---

### 😱 There will be FP theory 🤦

---

### 🦄 There will be FP theory 🎉

---

<CodeSurfer>

```ts title="Type signatures"
string[]

[string]
```

```ts title="Type signatures"
Promise<User>

Promise User
```

```ts title="Type signatures"
Map<Key, Value>

Map Key Value
```

```ts title="Type signatures"
(str: string) => number

string -> number
```

```ts title="Type signatures"
(str: string, what: string, to: string) => string

(string, string, string) -> string
```

```ts title="Type signatures"
<A, B>(f: (a: A) => B) => A[] => B[]

(a -> b) -> [a] -> [b]
```

```ts title="Type signatures"
(method: Method) => (url: string, conf: Config) => Promise<User>

HttpMethod -> (string, Config) -> Promise User 
```

</CodeSurfer>

---

## 👮 Type Driven Development 🛡️

`src/00-tdd.ts`

---

<CodeSurfer>

```ts title="src/01-tdd.ts"
interface AsyncData<D> {
  isLoading: boolean;
  didLoading: boolean;
  data?: D;
  error?: Error;
}
```

```ts title="src/01-tdd.ts"
interface AsyncData<D> {
  isLoading: boolean;
  didLoading: boolean;
  data?: D;
  error?: Error;
}

type RemoteData<D> =
  | { tag: 'idle' }
  | { tag: 'loading' }
  | { tag: 'success', data: D }
  | { tag: 'failure', error: Error }
```

</CodeSurfer>

---

## 🧱 FP It's all about composition 📦

---

<div style={{ padding: 50 }}>

<img src={pngCompositionVsBlackbox} />

</div>

---

<div style={{ padding: 50 }}>

<img src={pngCompositionFractal} />

</div>

---

<div style={{ padding: 100 }}>

<img src={pngEffectsDontCompose} />

</div>

---

<div style={{ padding: 100 }}>

<img src={pngComposedEffects} />

</div>

---

[fp-ts](https://gcanti.github.io/fp-ts/) & friends 💪

---

pipe / flow / Array / NonEmptyArray

https://gcanti.github.io/fp-ts/modules/pipeable.ts.html

https://gcanti.github.io/fp-ts/modules/function.ts.html

https://gcanti.github.io/fp-ts/modules/Array.ts.html

---

[io-ts](https://github.com/gcanti/io-ts) Safe IO

---

Either right or left

https://gcanti.github.io/fp-ts/modules/Either.ts.html

---

Option

https://gcanti.github.io/fp-ts/modules/Option.ts.html

---

We have so much in common ... (Functor?)
